form.form(role="form" ng-submit="doSaveSemester()")
    .panel
        .panel__head
            h3 {{title}}
        .panel__body.clearfix
            .form__group
                .col-md-2
                    label.form__label(for="semesterInputIdentifier") 学期
                .col-md-10
                    select.form__control(
                        ng-model="new_semester.identifier"
                        id="semesterInputIdentifier"
                        ng-options="i.identifier as i.label for i in subjectIndetifierList")

            .form__group
                .col-md-2
                    label.form__label(for="semesterInputClassYear") 学年
                .col-md-10
                    select.form__control(
                        ng-model="new_semester.class_year_id"
                        id="semesterInputClassYear"
                        ng-options="class_year.id as class_year.year for class_year in class_years")

            .form__group
                .col-md-2
                    label.form__label 教科
                .col-md-10
                    div(ng-repeat="subject in subjects | filter: subjectFilter")
                        input.form__control(
                            type="checkbox",
                            id="semesterInputSubject{{subject.id}}"
                            ng-checked="new_semester.subject_ids.indexOf(subject.id) > -1",
                            ng-click="subjectCheckboxChange(subject)")
                        label.form__label(for="semesterInputSubject{{subject.id}}") {{subject.title_ja}} - {{subject.title_en}}

        .panel__foot
            .clearfix
                .pull-left
                    div(ng-if="editing")
                        a.btn(ui-sref="admin.semester.detail({id: semester.id})" tabindex="-1") 戻る
                    div(ng-if="!editing")
                        a.btn(ui-sref="admin.semester" tabindex="-1") 戻る
                .pull-right
                    button.btn.btn--primary(type="submit") 保存
                    button.btn.btn--accent(type="button" ng-if="editing" ng-click="deleteSemester()") {{deleteBtnLabel()}}
                    button.btn(type="button" ng-if="deleting" ng-click="stopDeleting()") やっぱりやめる
